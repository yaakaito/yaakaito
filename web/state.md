# yaakai.to ウェブサイトリデザイン - 進捗状況

**最終更新**: 2025年3月4日 11:11 AM

## 概要
yaakai.toウェブサイトをモダンなグレースケールベース + 赤色アクセントのデザインに更新するプロジェクト。ブログとノートを視覚的に区別するレイアウトを実装し、YouTubeチャンネルページのようなカテゴリ分けを導入します。

## 現在の進捗状況

### 実装フェーズ（完了）
- [x] フェーズ1: グローバルスタイルとレイアウトの更新
- [x] フェーズ2: コンポーネントの作成
- [x] フェーズ3: トップページの再構築
- [x] フェーズ4: 各ページの更新
- [x] フェーズ5: 詳細ページとレスポンシブ対応
- [x] フェーズ6: UX改善と追加機能実装

### バグ修正フェーズ（進行中）
- [ ] クロスブラウザテスト
- [ ] モバイルデバイス互換性の確認
- [ ] パフォーマンス最適化

## 完了したタスク
1. カラースキームをグレースケールベース+赤色アクセントに更新
2. 基本レイアウト構造の改善（ヘッダー、コンテナ、余白など）
3. 各種コンポーネントの作成と実装
   - カードコンポーネント（BlogCard, NoteCard, FeatureCard）
   - レイアウトコンポーネント（FeatureGrid, CategorySection）
4. トップページの再構築
   - メタコンテンツセクションのデザイン更新
   - フィーチャーセクションの実装（非対称グリッド）
   - カテゴリセクションの実装（ブログ・ノート）
5. 各ページの更新
   - ブログインデックスページのリデザイン
   - ノートインデックスページのリデザイン
   - 記事詳細ページのデザイン改善
6. レスポンシブデザインの最適化
   - モバイル、タブレット、デスクトップ対応
7. UX改善の実装
   - カード全体をリンク化してクリック領域を拡大
   - ホバーエフェクトの強化で視覚的フィードバックを改善
   - 記事の相対日付表示機能の追加
8. ヘッダーとプロフィール表示の改善
   - GlobalLayoutのヘッダーを修正
   - YouTubeチャンネル風のプロフィールセクション追加
   - humans.txt、rss.xml、llms.txtへのリンクを視覚的に整理
9. 記事詳細ページの全面改善
   - コンテナ構造をフラット化
   - ヘッダーデザインの刷新
   - アイキャッチ画像が2つの背景色にまたがるレイアウト実装

## 改善の詳細

### カード全体のリンク化
- BlogCard、NoteCard、FeatureCardコンポーネントを修正し、カード全体が`<a>`タグで囲まれるように変更
- ホバーエフェクトを調整し、クリック可能であることを視覚的に示すよう強化
- リンクスタイルをカード全体に適用するための調整を行った

### ピックアップセクションのレイアウト改善
- FeatureGridのグリッド比率を3fr:2frから2fr:1.5frに変更し、メインカードのサイズを調整
- メインフィーチャーカードのレイアウトを「左にサムネイル/絵文字、右にタイトルと概要」の横並びに変更
- モバイル表示時には縦並びに自動変換するレスポンシブ対応を追加

### 記事の相対日付表示
- 「今日」「昨日」「○日前」などの相対日付表示を実装
- 絶対日付をtitle属性に設定し、マウスホバー時に詳細情報が見えるよう配慮
- すべてのカードコンポーネントで統一した日付表示を実現

### ヘッダーとプロフィール表示の改善
- GlobalLayoutのヘッダーを修正し、シンプルなナビゲーションメニューに変更
- トップページにYouTubeチャンネル風のプロフィールセクションを追加
- humans.txtの内容と各種メタリンク（RSS、LLMs、GitHub）を視覚的に整理

### 記事詳細ページの改善
- blog-post.astroのコンテナ構造をフラット化
- 背景色を統一し、視覚的な階層を減らした
- コンテンツの可読性を向上させるレイアウト調整を実施
- ヘッダー部分の背景色を画面幅いっぱいに拡張
- アイキャッチ画像が記事本文側に少しはみ出るようなオーバーレイ視覚効果を実装：
  1. `.article-header`の`padding-bottom`を削除（`padding: 40px 0 0`）
  2. `.eyecatch-container`に`z-index: 10`を設定して前面に表示
  3. `.eyecatch-container`の兄弟要素として`.overlay-background`を配置
  4. `.overlay-background`に`position: absolute; bottom: 0; height: 80px; z-index: 5;`を適用
  5. これにより2つの背景色の境界をまたぐ視覚効果を実現
- ダークモード対応も調整

## 発見されたバグと課題
1. ~~icon-64.pngが存在しないため、アイコンが表示されない~~ → icon-128.pngに変更して修正済み
2. ~~`.background`が邪魔で、最初のコンテンツにたどり着くまで真っ黒な空間が存在する~~ → 不要な`.background`要素を削除して修正済み
3. ~~カードをクリックしても遷移せず、テキストのみがリンクになっている~~ → カード全体をリンク化して修正済み
4. ~~ピックアップセクションの左カードのサイズが大きすぎてバランスが取れていない~~ → グリッド比率を修正して改善済み
5. ~~記事詳細ページのヘッダーが単調で変化がない~~ → アイキャッチ画像が2つの背景色にまたがるデザインを実装して修正済み
6. ~~記事詳細ページのコンテナ構造が不適切~~ → コンテナ構造をフラット化して修正済み
7. モバイル表示時のFeatureGridでオーバーフローが発生
8. Safariでのダークモード切替時にちらつきが発生
9. 一部の画像がレスポンシブに対応していない
10. フィーチャーセクションの読み込み時にレイアウトシフトが発生
## 2025年3月4日のデザイン調整
以下の細かなデザイン調整を行いました：

### 1. ピックアップエリアのレイアウト調整
- 左側のカードを縦型レイアウト（アイキャッチ上、テキスト下）
- 右側のカードを横型レイアウト（アイキャッチ左、テキスト右）
- メインカードのアイキャッチ画像を1:1から16:9比率に変更して縦幅を抑制
- サブカードはアイキャッチサイズを35%幅に調整
- 全体の余白を縮小し、レイアウトよりコンパクトに
- カード内のテキスト配置を左寄せに統一

### 2. 日付表示のUI改善
- 「今日」「昨日」「○日前」などの相対的な日付表示に変更
- 絶対日付をtitle属性に残してホバー時に表示
- すべてのカード（ブログ、ノート、フィーチャー）で統一した実装

### 3. UI要素の調整
- 「最新」バッジを削除しシンプルに
- ピックアップセクションのタイトル「ピックアップ」を削除
- カテゴリ名を「ブログ記事」→「Blog」、「ノート」→「Note」に変更

### 4. リスト・コードブロックの可読性改善
- リスト要素の左側余白(24px)とマージン(16px)を調整
- リスト項目に下部マージン(8px)を設定し、読みやすさを向上
- インラインコード要素の背景色をvar(--bg-color-level-4)からvar(--bg-color-level-2)に変更
- リスト内のインラインコード(`li > code`)にもスタイルを適用
- `text-box: trim-both cap alphabetic`プロパティを追加し、テキストの整列を改善
- ライトモードでコードの背景(#f3f3f3)と文字色(#333)を調整してコントラスト向上
- グローバルレイアウトとブログ投稿レイアウトの両方でスタイルを統一

### 5. 記事詳細ページのライトモード対応
- 関連記事セクションのテキスト色を固定値(`white`)からテーマ変数(`var(--text-color-level-0)`)に変更
- 関連記事カードの背景色をダークテーマ固定(`#404040`)からテーマ変数(`var(--bg-color-level-1)`)に修正
- カード内のタイトルやコンテンツテキストも適切なテーマ変数を使用
- 記事フッター部分（著者情報、「ホームへ戻る」リンク）の色もテーマ対応
- ホバー効果の背景色や境界線もテーマカラーに統一
- これによりライトモードでのフッター部分とカードの可視性が大幅に向上

## 現在取り組み中の修正
- FeatureGrid.astroのモバイルレイアウト修正
- ダークモード切替アニメーションの最適化
- 画像のレスポンシブ対応を強化
- レイアウトシフト防止のための構造改善

## 次のステップ
1. 残りのバグの修正
   - モバイル表示時のオーバーフロー問題
   - ダークモード切替アニメーション
   - レスポンシブ画像対応
   - レイアウトシフト防止
2. すべてのブラウザとデバイスでの検証
   - Chrome、Firefox、Safari、Edgeでの動作確認
   - モバイル端末での確認
3. パフォーマンス最適化
   - Lighthouseスコア改善
   - アクセシビリティの確認
   - SEO対策の強化
4. コードリファクタリングと重複排除
5. ビルドパフォーマンスの最適化
5. ビルドパフォーマンスの最適化

## 備考
- 計画は [plan.md](./plan.md) に詳細に記述されています
- デザインはグレースケールベースに赤色アクセントを組み合わせたモダンなスタイル
- ブログとノートは視覚的に区別されるデザインを採用
- メタコンテンツ（humans.txt、rss.xml、llms.txt）はトップレベルでグループ化
- バグ修正フェーズ終了後、最終的なパフォーマンス最適化を行う予定
