---
layout: ../../layouts/blog-post.astro
title: "Node çµ„ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã¨ swc ã§ TypeScript ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹"
emoji: ðŸ–Š
date: 2024-06-02T20:13:39Z
tags:
    - note
---

Node 18 ã‹ã‚‰å®Ÿé¨“çš„ã«å°Žå…¥ã•ã‚ŒãŸçµ„ã¿è¾¼ã¿ã®ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã‚ŒãŒ 21 ã§å¯¾è±¡ã‚’ glob æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

- https://nodejs.org/en/blog/announcements/v18-release-announce#test-runner-module-experimental
- https://nodejs.org/en/blog/announcements/v21-release-announce#support-for-globs-in-the-nodejs-test-runner

swc-node ã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨ã€ãã‚Œãªã‚Šã«ä½¿ãˆãã†ãªãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã«ãªã‚Šãã†ã§ã™ã€‚

- https://github.com/swc-project/swc-node

ã“ã‚Œã‚‰ã‚’ç”¨æ„ã—ãŸçŠ¶æ…‹ã§æ¬¡ã®ã‚³ãƒžãƒ³ãƒ‰ã«ã™ã‚‹ã¨ã€ TS ã‚’ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã—ã¤ã¤ watch ãƒ¢ãƒ¼ãƒ‰ã§å‹•ããƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ãŒä½œã‚Œã¾ã™ã€‚

```sh
$ node --import @swc-node/register/esm-register --watch --test 'src/**/*.test.ts'
```

> [!NOTE]
> webpack ãªã©ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ä½¿ã£ã¦ ESM ã§è¨˜è¿°ã—ã¦ã„ã‚‹å ´åˆã€Node ã® ESM ã¨å…±å­˜ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
> è‡ªåˆ†ã¯ import ã‚’ `*.js` ã§è¡Œã†ã‚ˆã†ã«ã—ã€ `extentionAlias` ã§ `import xxx from './xxx.js'` ã‚’ `.ts` ã¨ã—ã¦ã‚‚è§£æ±ºã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
> https://webpack.js.org/configuration/resolve/#resolveextensionalias