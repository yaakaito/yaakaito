---
layout: ../../layouts/blog-post.astro
title: "CSS ã® attr ãŒ content ã¨ <string> ä»¥å¤–ã§ã‚‚åˆ©ç”¨å¯èƒ½ã«"
emoji: ğŸ–Š
date: 2025-02-23T20:04:49Z
tags:
    - note
---

Chrome 133 ä»¥é™ã§ã€ã“ã‚Œã¾ã§æ¬¡ã®ã‚ˆã†ã« `content: attr(data-text);` ã®ã‚ˆã†ãªå½¢ã§ã—ã‹åˆ©ç”¨ã§ããªã‹ã£ãŸ `attr()` ãŒã€ãã‚Œä»¥å¤–ã®ã‚‚ã®ã«ã‚‚é©ç”¨å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

```html
<div class="code" data-language="ts"></div>
<style>
  .code::before {
    content: attr(data-language); // ã“ã‚Œã¾ã§ã¯å®Ÿè³ªã“ã®ç”¨é€”å°‚ç”¨ã ã£ãŸ
  }
</style>
```

ä¾‹ãˆã°æ±ç”¨çš„ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹ã¨ãã«ã€å¤–ã‹ã‚‰ width ã‚„ height ã€ color ã‚’æ¸¡ã—ãŸã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚ŒãŸ `attr()` ã§ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚

```html
<div class="box" data-width="400" data-height="400" data-color="#ff00ff"></div>
<style>
.box {
  width: attr(data-width px, 200px);
  height: attr(data-height px, 200px);
  background: attr(data-color type(<color>), red);
}
</style>
```

`attr()` ã®å¼•æ•°ã¯ 2 ã¤ã§ã€å‰è€…ã¯ attrbiute åã¨å‹ã‚’æŒ‡å®šã§ãã¾ã™ã€ `px` ã‚’æŒ‡å®šã™ã‚‹ã¨ attribute ã¯æ•°å€¤ã¨ã—ã¦æ‰±ã‚ã‚Œã€ `type(<color>)` ã§ã¯ãã‚Œã‚’è‰²ã¨ã—ã¦æ‰±ã†ã“ã¨ã‚’ä¼ãˆã¦ã„ã¾ã™ã€‚ 2 ã¤ç›®ã®å¼•æ•°ã¯ fallback ã§ã€ attribute ãŒå­˜åœ¨ã—ãªã‹ã£ãŸå ´åˆã«ãã®å€¤ãŒé¸æŠã•ã‚Œã¾ã™ã€‚

## Refs

- https://developer.chrome.com/blog/advanced-attr?hl=ja
- https://www.bram.us/2025/01/20/css-attr-gets-an-upgrade/
- https://developer.mozilla.org/ja/docs/Web/CSS/attr