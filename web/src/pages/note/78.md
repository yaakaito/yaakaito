---
layout: ../../layouts/blog-post.astro
title: "git worktree ã§ Claude Code ã®ä¸¦åˆ—ç¨¼åƒã‚’è©¦ã™"
emoji: ğŸ™
date: 2025-05-24T11:55:13Z
tags:
    - note
---

Claude Code Best Practices ã§ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹æ–¹æ³•ã§ã€ git worktree ã§ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’è¤‡è£½ã—ã¦ãã‚Œãã‚Œã§ Claude Code ã‚’å®Ÿè¡Œã™ã‚‹ã€‚è‡ªåˆ†ã¯è¶£å‘³ã®ç¯„å›²ã¯åŸºæœ¬çš„ã« Dev Container ã§ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¡Œã£ã¦ã„ã‚‹ã®ã§ã€è¤‡æ•° clone ã—ã¦ãã‚Œãã‚Œã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ã€ã¨ã™ã‚‹ã®ã¯é¢å€’ã§ã“ã®æ–¹æ³•ã‚’æ¡ç”¨ã—ãŸã€‚

- https://www.anthropic.com/engineering/claude-code-best-practices
- https://git-scm.com/docs/git-worktree

ãƒ–ãƒ©ãƒ³ãƒè¾¼ã¿ã§ä½œã‚ŠãŸã„ã¨ãã¯ã€ `-b` ã§ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã§ãã‚‹ã€‚

```
git worktree add ~/feature/foo-bar -b feature/foo-bar
```

Dev Container ã®ãƒã‚¦ãƒ³ãƒˆå…ˆã¯  `/workspace/[reponame]` ã«ãªã£ã¦ã„ã‚‹ã¯ãšã§ã€ã“ã“ã‹ã‚‰ `../feature/foo-bar` ã§ `/workspace/feature/foo-bar` ã¯ä½œã‚Œãªã„ã®ã§ `~` ã¸ worktree ã‚’ä½œã£ã¦ã„ã‚‹ã€‚ 
worktree ã‚’ä½œã‚‹ã¨ã€ãã“ã«æŒ‡å®šã—ãŸãƒ–ãƒ©ãƒ³ãƒãŒ co ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ cd ã—ã¦ Claude Code ã§ä½œæ¥­ã™ã‚‹ã€‚

```
$ cd ~/feature/foo-bar 
$ claude
```

æœ€è¿‘ã¯ã€ŒTerminal: Create New Terminal in Editor Areaã€ã§ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã®é ˜åŸŸã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦ã—ã¾ã„ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¿ãƒ–ã¨åŒã˜ãƒ¬ãƒ™ãƒ«ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ç®¡ç†ã—ã¦ Claude Code ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã®ã§ã€worktree åˆ†ã“ã®ã‚¿ãƒ–ã‚’å¢—ã‚„ã›ã°è‰¯ã„ã€‚

ä½œæ¥­ãŒçµ‚ã‚ã£ãŸã‚‰ remove ã§å‰Šé™¤ã™ã‚‹ã€‚

```
$ git worktree remove ~/feature/foo-bar
```