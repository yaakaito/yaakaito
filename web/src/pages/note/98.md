---
layout: ../../layouts/blog-post.astro
title: "Chrome DevTools MCP ã‚’ DevContainer(OrbStack) ã‹ã‚‰ä½¿ã†"
emoji: ğŸ¤–
date: 2025-11-08T19:02:42Z
tags:
    - note
---

æ™®æ®µ DevContainer ã§é–‹ç™ºã—ã¦ã„ã‚‹ä¸­ã§ DevTools MCP ã‚’ä½¿ã„ãŸã„ãŒã€ Chrome ãŒå…¥ã£ã¦ã„ãªã„ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰åˆ©ç”¨ã™ã‚‹ã«ã¯è¨­å®šãŒå¿…è¦ãªã®ã§ãã®ãƒ¡ãƒ¢ã€‚ãƒ›ã‚¹ãƒˆå´ã® Chrome ã‚’ä½¿ã†ã‚ˆã†ã«ã™ã‚‹ã€‚

- https://developer.chrome.com/blog/chrome-devtools-mcp?hl=ja

åŸºæœ¬çš„ãªè¨­å®šæ–¹æ³•ã¯ DevTools MCP ã® README ã«æ›¸ã‹ã‚Œã¦ã„ã¦ã€DevContainer å°‚ç”¨ã§ã¯ãªã„ãŒ `--browser-url` ã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã« remote debugging port ã‚’æœ‰åŠ¹ã«ã—ãŸ Chrome ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã€‚

- https://github.com/ChromeDevTools/chrome-devtools-mcp/?tab=readme-ov-file#connecting-to-a-running-chrome-instance

remote debugging port ã¯ 136 ä»¥é™ã§ `--user-data-dir` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å…¼ç”¨ã—ãªã„ã¨æœ‰åŠ¹ã«ã§ããªããªã£ã¦ã„ã‚‹ã€‚
ä»Šå›ã¯ Chrome ã‚’æ™®æ®µé£ã„ã®ã‚‚ã®ã¨ã¯åˆ¥ã§é–‹ããŸã‹ã£ãŸã®ã§ã€ã™ã¹ã¦ã¾ã¨ã‚ã‚‹ã¨æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§ MCP ã‹ã‚‰åˆ©ç”¨ã™ã‚‹ Chrome ã‚’èµ·å‹•ã§ãã‚‹ã€‚Raycast ã® Script Commnad ã¨ã—ã¦é©å½“ã«ç™»éŒ²ã—ãŸã€‚

```
$ open -n -a "Google Chrome" --args --remote-debugging-port=9222 --user-data-dir=/tmp/devtools-mcp
```

Chrome ãŒèµ·å‹•ã—ãŸã‚‰ã‚³ãƒ³ãƒ†ãƒŠå´ã‹ã‚‰æ¥ç¶šã™ã‚‹ãƒ›ã‚¹ãƒˆå´ã® IP ã‚’èª¿ã¹ã‚‹ã€‚`host.docker.internal` ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ããã†ã ãŒã€Chrome å´ã®åˆ¶ç´„ã§æ‹’å¦ã•ã‚Œã¦ã—ã¾ã£ãŸã€‚

```
$ getent hosts host.docker.internal
> 0.250.250.254   host.docker.internal
```

<details>
<summary><sub>ã¡ãªã¿ã«ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰ curl ã‚’æŠ•ã’ã¦ã¿ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚‹:</sub></summary>

```
$ curl http://host.docker.internal:9222/json/version                     
Host header is specified and is not an IP address or localhost.%                                                                                             
$ curl -H "Host: localhost" http://host.docker.internal:9222/json/version
{
   "Browser": "Chrome/142.0.7444.60",
   "Protocol-Version": "1.3",
   "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36",
   "V8-Version": "14.2.231.14",
   "WebKit-Version": "537.36 (@e7848b4d5b3843432464a9b8237fe58e87f6c357)",
   "webSocketDebuggerUrl": "ws://localhost/devtools/browser/9e8b5696-17d3-4b14-82cf-1f5975b571b7"
}
$ curl http://0.250.250.254:9222/json/version                     
{
   "Browser": "Chrome/142.0.7444.60",
   "Protocol-Version": "1.3",
   "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36",
   "V8-Version": "14.2.231.14",
   "WebKit-Version": "537.36 (@e7848b4d5b3843432464a9b8237fe58e87f6c357)",
   "webSocketDebuggerUrl": "ws://0.250.250.254:9222/devtools/browser/9e8b5696-17d3-4b14-82cf-1f5975b571b7"
}
```

</details>

ã“ã‚Œã‚’å¼•æ•°ã«èµ·å‹•ã™ã‚‹ã‚ˆã†ã« `.mcp.json` ãªã©ã‚’èª¿æ•´ã™ã‚‹ã€‚è‡ªåˆ†ã¯ Claude Code ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€[Plugin ã¨ã—ã¦ã“ã®è¨­å®šã‚’ install å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ãŸã€‚](https://github.com/yaakaito/env/blob/main/cc-plugins/devtools/.mcp.json)

```
{
  "mcpServers": {
    "chrome-devtools": {
      "command": "npx",
      "args": [
        "chrome-devtools-mcp@latest",
        "--browserUrl=http://0.250.250.254:9222"
      ]
    }
  }
}
```

è¨­å®šãŒã†ã¾ãè¡Œã£ã¦ã„ã‚Œã°æ¬¡ã®ã‚ˆã†ãªé©å½“ãªã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ›ã‚¹ãƒˆå´ã® Chrome ãŒå‹•ã„ã¦ç¢ºèªã§ãã‚‹ã¯ãšã€‚

```
chrome-devtools ã‚’ä½¿ã£ã¦ yaakai.to ã® Core Web Vitals ã‚’æ¸¬å®šã—ã¦ 
```

## Refs

- https://developer.chrome.com/docs/devtools/remote-debugging/local-server?hl=ja
- https://developer.chrome.com/blog/remote-debugging-port?hl=ja
- https://chromedevtools.github.io/devtools-protocol/